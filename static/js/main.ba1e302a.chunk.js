(this["webpackJsonpplanet-accessibility-explorer"]=this["webpackJsonpplanet-accessibility-explorer"]||[]).push([[0],{180:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var a=n(105),c=n.n(a),o=n(80),r=n(0),i=n.n(r),s=n(19),l=n.n(s),u=n(111),d=n(60),b=n(240),h=n(238),j=n(239),f=n(9),p=n(64),m=(n(180),n(40)),v=n(34),O=n(8);function x(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function y(e){var t=function(){var e=r.useState(x()),t=Object(v.a)(e,2),n=t[0],a=t[1],c=r.useCallback((function(e){a(x())}),[]);return r.useEffect((function(){void 0!==window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",c)}),[c]),n}();return Object(O.jsx)("div",Object(m.a)(Object(m.a)({},e),{},{className:t?"".concat(e.className," bp3-dark"):e.className,children:e.children}))}var g=function(e,t){return e.reduce((function(e,t){var n=Object(v.a)(t,2),a=n[0],c=n[1];return Object(O.jsx)(a.Provider,{value:c,children:e})}),t)};function w(){return Object(O.jsx)("legend",{children:"Legende hallo hallo"})}var k,I=n(52),M=n.n(I),C=n(49),D=(n(201),n(113)),_=p.a.div(k||(k=Object(d.a)(["\n  overflow: auto;\n"]))),K=["admin","places","amenities","entrances_or_exits","elevators","ramps","pedestrian_highways","conveying","toilets","buildings","master_routes","master_route_members","routes","route_members","stop_areas","stop_area_members","platforms","stop_positions","stations"];var z=n(112),Z=function(e,t){return fetch(e,t).then((function(e){return e.json()}))};var F,S=function(){var e="https://api.mapbox.com/styles/v1/".concat("sozialhelden","/").concat("ckwdrjpmz4jox16o7libit9p4","?fresh=true&access_token=").concat("pk.eyJ1Ijoic296aWFsaGVsZGVuIiwiYSI6ImNrd2Y1M3hoMDBiY3IyeG5zbzZ3ZXR6ZXIifQ.qQ8nPyopGZKyEM4DP5aKgA"),t=Object(z.a)(e,Z),n=t.data,a=t.error;return a?{error:a}:n?{data:n}:{loading:!0}};function G(){return r.useContext(C.b).map,null}function E(e){const[t,{width:n,height:a}]=Object(D.a)(),c=Object(r.useRef)(null),[o,i]=Object(r.useState)({width:100,height:100,latitude:37.7577,longitude:-122.4376,zoom:1});Object(r.useLayoutEffect)((()=>{const e={...o,width:n,height:a};i(e)}),[n,a]);const s=Object(f.d)(),l=Object(r.useCallback)((e=>{e.features[0]||s.push("/")}),[o]),u=Object(r.useCallback)(((e,t)=>{i({...o,...e})}),[i]),d=Object(r.useCallback)((()=>{}),[c.current]),b=S(),h=r.useMemo((()=>{var e,t;return(null===(e=b.data)||void 0===e?void 0:e.layers)&&function(e){return e.filter((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("osm-")})).map((function(e){var t=K.find((function(t){var n;return null===(n=e["source-layer"])||void 0===n?void 0:n.startsWith(t)}));return Object(m.a)(Object(m.a)({},e),{},{source:t,"source-layer":"default"})})).filter((function(e){return e.source}))}(null===(t=b.data)||void 0===t?void 0:t.layers)}),[b]);return Object(O.jsxs)(_,{ref:t,className:e.className,style:{flex:1,display:!1===e.visible?"none":"block",position:"relative"},children:[Object(O.jsxs)(C.d,{...o,mapboxApiAccessToken:"pk.eyJ1Ijoic296aWFsaGVsZGVuIiwiYSI6ImNrd2Y1M3hoMDBiY3IyeG5zbzZ3ZXR6ZXIifQ.qQ8nPyopGZKyEM4DP5aKgA",onViewportChange:u,onClick:l,onLoad:d,mapStyle:"mapbox://styles/mapbox/light-v10",ref:c,children:[K.map((e=>Object(O.jsx)(C.c,{type:"vector",tiles:[`https://osm-api.wheelmap.tech/api/v1/${e}.mvt?limit=10000&bbox={bbox-epsg-3857}&epsg=3857`],id:e},e))),null===h||void 0===h?void 0:h.map((e=>Object(O.jsx)(C.a,{...e},e.id))),Object(O.jsx)(G,{})]}),e.children]})}M.a.workerClass=n(205).default,b.a.onlyShowFocusOnTabs();var N=p.a.div(F||(F=Object(d.a)(["\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n"])));var P=function(){var e=[],t=Object(f.d)(),n=Object(f.e)(),a=r.useCallback((function(e){var a="/features/".concat(e);t.push("".concat(a).concat(n.search))}),[t,n]),c=Object(O.jsxs)(_,{style:{width:"400px",padding:"1rem",margin:"0"},children:[Object(O.jsx)("h1",{children:"Miki: Erforsche deinen Kiez"}),Object(O.jsx)(w,{})]}),o=Object(O.jsx)(E,{featureId:void 0,onSelectFeature:a,visible:!0}),s=Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(N,{children:[c,o]})}),l=i.a.useMemo((function(){return[{combo:"mod+z",global:!0,label:"Undo",onKeyDown:function(){alert("!!")},allowInInput:!1,preventDefault:!0},{global:!0,combo:"mod+shift+z",label:"Redo",onKeyDown:function(){alert("!!")},allowInInput:!1,preventDefault:!0}]}),[]);return Object(O.jsx)(h.b,{children:Object(O.jsx)(j.a,{hotkeys:l,children:function(t){var n=t.handleKeyDown,a=t.handleKeyUp;return Object(O.jsx)(y,{style:{height:"100%",display:"flex",flexDirection:"column"},onKeyDown:n,onKeyUp:a,children:g(e,s)})}})})},L=(n(231),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))});c.a.config(),Object(o.a)(),Object(o.b)(),l.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)(P,{})})}),document.getElementById("root")),L()}},[[232,1,2]]]);
//# sourceMappingURL=main.ba1e302a.chunk.js.map