(this["webpackJsonpplanet-accessibility-explorer"]=this["webpackJsonpplanet-accessibility-explorer"]||[]).push([[0],{180:function(e,t,n){},230:function(e,t,n){},231:function(e,t,n){"use strict";n.r(t);var a=n(105),c=n.n(a),o=n(79),r=n(0),i=n.n(r),s=n(19),l=n.n(s),u=n(111),d=n(40),b=n(239),j=n(237),f=n(238),h=n(9),p=n(41),m=(n(180),n(21)),v=n(26),O=n(8);function x(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function y(e){var t=function(){var e=r.useState(x()),t=Object(v.a)(e,2),n=t[0],a=t[1],c=r.useCallback((function(e){a(x())}),[]);return r.useEffect((function(){void 0!==window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",c)}),[c]),n}();return Object(O.jsx)("div",Object(m.a)(Object(m.a)({},e),{},{className:t?"".concat(e.className," bp3-dark"):e.className,children:e.children}))}var g=function(e,t){return e.reduce((function(e,t){var n=Object(v.a)(t,2),a=n[0],c=n[1];return Object(O.jsx)(a.Provider,{value:c,children:e})}),t)};function w(){return Object(O.jsx)("legend",{children:"Legende hallo hallo"})}var k,I=n(51),M=(n(201),n(113)),D=p.a.div(k||(k=Object(d.a)(["\n  overflow: auto;\n"]))),_=["admin","places","amenities","entrances_or_exits","elevators","ramps","pedestrian_highways","conveying","toilets","buildings","master_routes","master_route_members","routes","route_members","stop_areas","stop_area_members","platforms","stop_positions","stations"];var C=n(112),K=function(e,t){return fetch(e,t).then((function(e){return e.json()}))};var z,Z,F=function(){var e="https://api.mapbox.com/styles/v1/".concat("sozialhelden","/").concat("ckwdrjpmz4jox16o7libit9p4","?fresh=true&access_token=").concat("pk.eyJ1Ijoic296aWFsaGVsZGVuIiwiYSI6ImNrd2Y1M3hoMDBiY3IyeG5zbzZ3ZXR6ZXIifQ.qQ8nPyopGZKyEM4DP5aKgA"),t=Object(C.a)(e,K),n=t.data,a=t.error;return a?{error:a}:n?{data:n}:{loading:!0}};p.a.div(z||(z=Object(d.a)(["\n  overflow: hidden;\n"])));function S(){return r.useContext(I.b).map,null}function G(e){var t=Object(M.a)(),n=Object(v.a)(t,2),a=n[0],c=n[1],o=c.width,i=c.height,s=Object(r.useRef)(null),l=Object(r.useState)({width:100,height:100,latitude:37.7577,longitude:-122.4376,zoom:1}),u=Object(v.a)(l,2),d=u[0],b=u[1];Object(r.useLayoutEffect)((function(){var e=Object(m.a)(Object(m.a)({},d),{},{width:o,height:i});b(e)}),[o,i]);var j=Object(h.d)(),f=Object(r.useCallback)((function(e){e.features[0]||j.push("/")}),[d]),p=Object(r.useCallback)((function(e,t){b(Object(m.a)(Object(m.a)({},d),e))}),[b]),x=Object(r.useCallback)((function(){}),[s.current]),y=F(),g=r.useMemo((function(){var e,t;return(null===(e=y.data)||void 0===e?void 0:e.layers)&&function(e){return e.filter((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("osm-")})).map((function(e){var t=_.find((function(t){var n;return null===(n=e["source-layer"])||void 0===n?void 0:n.startsWith(t)}));return Object(m.a)(Object(m.a)({},e),{},{source:t,"source-layer":"default"})})).filter((function(e){return e.source}))}(null===(t=y.data)||void 0===t?void 0:t.layers)}),[y]);return Object(O.jsxs)(D,{ref:a,className:e.className,style:{flex:1,display:!1===e.visible?"none":"block",position:"relative"},children:[Object(O.jsxs)(I.d,Object(m.a)(Object(m.a)({},d),{},{mapboxApiAccessToken:"pk.eyJ1Ijoic296aWFsaGVsZGVuIiwiYSI6ImNrd2Y1M3hoMDBiY3IyeG5zbzZ3ZXR6ZXIifQ.qQ8nPyopGZKyEM4DP5aKgA",onViewportChange:p,onClick:f,onLoad:x,mapStyle:"mapbox://styles/mapbox/light-v10",ref:s,children:[_.map((function(e){return Object(O.jsx)(I.c,{type:"vector",tiles:["".concat("https://osm-api.wheelmap.tech/api/v1","/").concat(e,".mvt?limit=10000&bbox={bbox-epsg-3857}&epsg=3857")],id:e},e)})),null===g||void 0===g?void 0:g.map((function(e){return Object(O.jsx)(I.a,Object(m.a)({},e),e.id)})),Object(O.jsx)(S,{})]})),e.children]})}b.a.onlyShowFocusOnTabs();var E=p.a.div(Z||(Z=Object(d.a)(["\n  flex: 1;\n  overflow: hidden;\n  display: flex;\n  flex-direction: row;\n  align-items: stretch;\n"])));var N=function(){var e=[],t=Object(h.d)(),n=Object(h.e)(),a=r.useCallback((function(e){var a="/features/".concat(e);t.push("".concat(a).concat(n.search))}),[t,n]),c=Object(O.jsxs)(D,{style:{width:"400px",padding:"1rem",margin:"0"},children:[Object(O.jsx)("h1",{children:"Miki: Erforsche deinen Kiez"}),Object(O.jsx)(w,{})]}),o=Object(O.jsx)(G,{featureId:void 0,onSelectFeature:a,visible:!0}),s=Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(E,{children:[c,o]})}),l=i.a.useMemo((function(){return[{combo:"mod+z",global:!0,label:"Undo",onKeyDown:function(){alert("!!")},allowInInput:!1,preventDefault:!0},{global:!0,combo:"mod+shift+z",label:"Redo",onKeyDown:function(){alert("!!")},allowInInput:!1,preventDefault:!0}]}),[]);return Object(O.jsx)(j.b,{children:Object(O.jsx)(f.a,{hotkeys:l,children:function(t){var n=t.handleKeyDown,a=t.handleKeyUp;return Object(O.jsx)(y,{style:{height:"100%",display:"flex",flexDirection:"column"},onKeyDown:n,onKeyUp:a,children:g(e,s)})}})})},P=(n(230),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,240)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),o(e),r(e)}))});c.a.config(),Object(o.a)(),Object(o.b)(),l.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(u.a,{children:Object(O.jsx)(N,{})})}),document.getElementById("root")),P()}},[[231,1,2]]]);
//# sourceMappingURL=main.479fa353.chunk.js.map