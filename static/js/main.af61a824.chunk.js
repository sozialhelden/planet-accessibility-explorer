(this["webpackJsonpplanet-accessibility-explorer"]=this["webpackJsonpplanet-accessibility-explorer"]||[]).push([[0],{180:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){"use strict";n.r(t);var a=n(104),o=n.n(a),c=n(79),r=n(0),i=n.n(r),s=n(19),l=n.n(s),u=n(111),d=n(240),b=n(238),h=n(239),f=n(9),p=n(63),j=(n(180),n(40)),m=n(34),v=n(8);function O(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function y(e){var t=function(){var e=r.useState(O()),t=Object(m.a)(e,2),n=t[0],a=t[1],o=r.useCallback((function(e){a(O())}),[]);return r.useEffect((function(){void 0!==window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o)}),[o]),n}();return Object(v.jsx)("div",Object(j.a)(Object(j.a)({},e),{},{className:t?"".concat(e.className," bp3-dark"):e.className,children:e.children}))}var x=function(e,t){return e.reduce((function(e,t){var n=Object(m.a)(t,2),a=n[0],o=n[1];return Object(v.jsx)(a.Provider,{value:o,children:e})}),t)};var w,g=n(52),k=n.n(g),I=n(49),M=(n(201),n(113)),C=n(105),D=p.a.div(w||(w=Object(C.a)(["\n  overflow: auto;\n"]))),_=["admin","places","amenities","entrances_or_exits","elevators","ramps","pedestrian_highways","conveying","toilets","buildings","master_routes","master_route_members","routes","route_members","stop_areas","stop_area_members","platforms","stop_positions","stations"];var K=n(112),Z=function(e,t){return fetch(e,t).then((function(e){return e.json()}))};var z=function(){var e="https://api.mapbox.com/styles/v1/".concat("sozialhelden","/").concat("ckwdrjpmz4jox16o7libit9p4","?fresh=true&access_token=").concat("pk.eyJ1Ijoic296aWFsaGVsZGVuIiwiYSI6ImNrd2Y1M3hoMDBiY3IyeG5zbzZ3ZXR6ZXIifQ.qQ8nPyopGZKyEM4DP5aKgA"),t=Object(K.a)(e,Z),n=t.data,a=t.error;return a?{error:a}:n?{data:n}:{loading:!0}};function F(){return r.useContext(I.b).map,null}function S(e){const[t,{width:n,height:a}]=Object(M.a)(),o=Object(r.useRef)(null),[c,i]=Object(r.useState)({width:100,height:100,latitude:37.7577,longitude:-122.4376,zoom:1});Object(r.useLayoutEffect)((()=>{const e={...c,width:n,height:a};i(e)}),[n,a]);const s=Object(f.d)(),l=Object(r.useCallback)((e=>{e.features[0]||s.push("/")}),[c]),u=Object(r.useCallback)(((e,t)=>{i({...c,...e})}),[i]),d=Object(r.useCallback)((()=>{}),[o.current]),b=z(),h=r.useMemo((()=>{var e,t;return(null===(e=b.data)||void 0===e?void 0:e.layers)&&function(e){return e.filter((function(e){var t;return null===(t=e.id)||void 0===t?void 0:t.startsWith("osm-")})).map((function(e){var t=_.find((function(t){var n;return null===(n=e["source-layer"])||void 0===n?void 0:n.startsWith(t)}));return Object(j.a)(Object(j.a)({},e),{},{source:t,"source-layer":"default"})})).filter((function(e){return e.source}))}(null===(t=b.data)||void 0===t?void 0:t.layers)}),[b]);return Object(v.jsxs)(D,{ref:t,className:e.className,style:{flex:1,display:!1===e.visible?"none":"block",position:"relative"},children:[Object(v.jsxs)(I.d,{...c,mapboxApiAccessToken:"pk.eyJ1Ijoic296aWFsaGVsZGVuIiwiYSI6ImNrd2Y1M3hoMDBiY3IyeG5zbzZ3ZXR6ZXIifQ.qQ8nPyopGZKyEM4DP5aKgA",onViewportChange:u,onClick:l,onLoad:d,mapStyle:"mapbox://styles/mapbox/light-v10",ref:o,children:[_.map((e=>Object(v.jsx)(I.c,{type:"vector",tiles:[`https://osm-api.wheelmap.tech/api/v1/${e}.mvt?limit=10000&bbox={bbox-epsg-3857}&epsg=3857`],id:e},e))),null===h||void 0===h?void 0:h.map((e=>Object(v.jsx)(I.a,{...e},e.id))),Object(v.jsx)(F,{})]}),e.children]})}k.a.workerClass=n(205).default,d.a.onlyShowFocusOnTabs();const G=p.a.div`
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  align-items: stretch;
`;var N=function(){const e=[],t=Object(f.d)(),n=Object(f.e)(),a=r.useCallback((e=>{const a=`/features/${e}`;t.push(`${a}${n.search}`)}),[t,n]),o=Object(v.jsx)(S,{featureId:void 0,onSelectFeature:a,visible:!0}),c=Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(G,{children:o})}),s=i.a.useMemo((function(){return[{combo:"mod+z",global:!0,label:"Undo",onKeyDown:function(){alert("!!")},allowInInput:!1,preventDefault:!0},{global:!0,combo:"mod+shift+z",label:"Redo",onKeyDown:function(){alert("!!")},allowInInput:!1,preventDefault:!0}]}),[]);return Object(v.jsx)(b.b,{children:Object(v.jsx)(h.a,{hotkeys:s,children:({handleKeyDown:t,handleKeyUp:n})=>Object(v.jsx)(y,{style:{height:"100%",display:"flex",flexDirection:"column"},onKeyDown:t,onKeyUp:n,children:x(e,c)})})})},P=(n(231),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,241)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),o(e),c(e),r(e)}))});o.a.config(),Object(c.a)(),Object(c.b)(),l.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(u.a,{children:Object(v.jsx)(N,{})})}),document.getElementById("root")),P()}},[[232,1,2]]]);
//# sourceMappingURL=main.af61a824.chunk.js.map